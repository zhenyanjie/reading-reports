##  The structure of the THE multiprogramming system-reading-report

- [The Structure of the "THE"-Multiprogramming System](http://uosis.mif.vu.lt/~liutauras/books/Dijkstra%20-%20The%20structure%20of%20the%20THE%20multiprogramming%20system.pdf)

### Summary of major innovations

这篇文章提出了多道程序系统这样一个新的os架构，并且提出了一些新的想法，如内存分配领域的段、页，处理器分配的同步，系统层次的划分（0-5层）以及系统正确性验证等。

在这个系统中，所有活动在若干顺序过程上分开。这些顺序过程被放在不同的层级，在每个分层级中已经实现了一个或多个独立抽象。这种层次结构被证明对于验证设计的逻辑健全性和其实现的正确性是至关重要的。

设计这样程序的目的主要是：

- 减少短期程序的周转时间

- 更加经济的利用外围设备

- 自动控制后备存储器和中央处理器 

- 通用计算机的灵活性，而不是容量或者处理能力。

  ​

### What the problems the paper mentioned?

**存储分配**

提出了虚拟存储的概念，memory units（page）和 information units （segment） ，段是逻辑单元，页是物理单元，段的数量比页的多。

这种设计可以实现非连续内存分配

**处理器分配**

把系统看作一个合作进程的社会，每一个被系统接受的应用程序对应一个顺序过程，每一个输入外设对应一个顺序过程......

根据这些抽象的“顺序过程”来设计整个系统，它们的协调合作通过明确的同步语句来调节。

在附录中具体讲解了信号量，包括 Private semaphore 和 Mutual exclusion semaphores 

**系统层次**

0级：处理器的分配和同步，引入定时器中断，结合优先权规则，避免霸占。高于0级，实际共享的处理器的数量不再相关

1级：引入段控制器；段标识身份

2级：消息解释器 负责控制台和键盘的分配，通过该分配可以执行操作者和任何更高级别进程之间的对话。

3级：输入流的缓冲和输出流的无缓冲相关联的顺序过程。资源的相互同步。 与外围设备相关联的顺序处理具有高于消息解释器的级别，

4级：独立的用户程序

5级：操作员

**证明系统的可靠性**

0级开始，测试系统，每次仅在上一级被完全测试后才添加下一级的一部分，分层使测试更容易进行，并且保证测试是有效的。

测试级别0（实时时钟和处理器分配）

测试级别1的段控制器意味着所有“相关状态”可以根据在核心页面上的需求的顺序过程来形成，这些情况可能由测试程序之间的显式同步引发，使用信号量进行显示同步



### What are some intriguing aspects of the paper?

本文关于系统的验证非常有趣，在文章中也花费了大篇幅来讲，既可以先验的证明其逻辑健全性，也可以在实现后使用穷举测试。

在后面分层验证中，也讲了一些针对不同层的验证方法。















